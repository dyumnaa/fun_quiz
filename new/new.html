<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Story</title>
    <link rel="stylesheet" href="css.css">
</head>
<body>
    <div class="quiz-container">
        <h2 id="question">Do you want to play?</h2>
        <form id="quizForm">
            <label id="answer1-label">
                <input type="radio" id="answer1" name="answer" value="1">
                <span id="label1">Yes</span>
            </label><br>
            <label id="answer2-label">
                <input type="radio" id="answer2" name="answer" value="end">
                <span id="label2">No</span>
            </label><br>
            <button type="submit">Submit Answer</button>
        </form>
    </div>

    <script>
        const questions = [
            {
                question: "It's night time. You're driving, but it's snowing heavily. You see a diner nearby with the light on.",
                answers: [
                    { text: "Keep driving", nextQuestionIndex: 3 },
                    { text: "Go to the diner", nextQuestionIndex: 4 }
                ]
            },
            {
                question: "A waiter takes you to your table, but he has no face and only a giant mouth full of sharp teeth. Everyone else sitting in the diner has black eyes. They all turn to look at you...",
                answers: [
                    { text: "Keep moving", nextQuestionIndex: 3 }
                ]
            },
            {
                question: "You keep driving. The snow gets worse and you see a shelter ahead. Do you:",
                answers: [
                    { text: "Stop at the shelter", nextQuestionIndex: 5 },
                    { text: "Continue driving", nextQuestionIndex: 6 }
                ]
            },
            {
                question: "You enter the diner and find it empty. Do you:",
                answers: [
                    { text: "Leave immediately", nextQuestionIndex: 6 },
                    { text: "Sit down and wait", nextQuestionIndex: 7 }
                ]
            },
            // Add more questions as needed
        ];

        let currentQuestionIndex = 0;

        // Function to display a question and its answers
        function displayQuestion() {
            // Handle the "Do you want to play?" question
            if (currentQuestionIndex === 0) {
                document.getElementById("question").textContent = "Do you want to play?";
                document.getElementById("label1").textContent = "Yes";
                document.getElementById("label2").textContent = "No";

                document.getElementById("answer1").value = 1; // Start the story at question index 1
                document.getElementById("answer2").value = "end"; // End the story if "No" is selected
            } else {
                // Regular questions in the story
                const currentQuestion = questions[currentQuestionIndex - 1];
                document.getElementById("question").textContent = currentQuestion.question;

                // If there are multiple answers, display them
                if (currentQuestion.answers.length > 1) {
                    document.getElementById("answer1-label").style.display = "block";
                    document.getElementById("answer2-label").style.display = "block";
                    document.getElementById("label1").textContent = currentQuestion.answers[0].text;
                    document.getElementById("answer1").value = currentQuestion.answers[0].nextQuestionIndex;

                    document.getElementById("label2").textContent = currentQuestion.answers[1].text;
                    document.getElementById("answer2").value = currentQuestion.answers[1].nextQuestionIndex;
                } else {
                    // For paragraph-style questions with only one answer
                    document.getElementById("answer1-label").style.display = "none";
                    document.getElementById("answer2-label").style.display = "none";
                }
            }
        }

        // Function to handle the form submission
        document.getElementById("quizForm").addEventListener("submit", function(event) {
            event.preventDefault();

            // Get the selected answer's index
            const selectedAnswer = document.querySelector('input[name="answer"]:checked');
            if (selectedAnswer) {
                const answerValue = selectedAnswer.value;

                // Check if the game should end based on the "No" answer
                if (answerValue === "end") {
                    document.querySelector(".quiz-container").innerHTML = "<h2>You chose not to play. Game over.</h2>";
                    return;
                }

                // Move to the next question
                currentQuestionIndex = parseInt(answerValue);

                if (currentQuestionIndex <= questions.length) {
                    displayQuestion();
                } else {
                    document.querySelector(".quiz-container").innerHTML = "<h2>You've completed the story!</h2>";
                }
            }
        });

        // Initial call to display the first question
        displayQuestion();
    </script>
</body>
</html>